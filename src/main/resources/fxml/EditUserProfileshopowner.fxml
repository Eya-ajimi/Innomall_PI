<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox alignment="TOP_CENTER" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" 
      prefWidth="600.0" spacing="20.0" style="-fx-background-color: white;" xmlns="http://javafx.com/javafx/17" 
      xmlns:fx="http://javafx.com/fxml/1" fx:controller="tn.esprit.gui.azizcontroller.EditUserProfileshopownerController">

    <padding>
        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0"/>
    </padding>

    <Label text="Modifier le Profil" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>

    <!-- Profile Image Section -->
    <VBox alignment="CENTER" spacing="10">
        <ImageView fx:id="profileImageView" fitHeight="150.0" fitWidth="150.0" pickOnBounds="true" preserveRatio="true"/>
        <Button onAction="#handleImageUpload" text="Changer la photo" 
                style="-fx-background-color: #94bee4; -fx-text-fill: white;"/>
            </VBox>

    <!-- Form Fields -->
    <GridPane hgap="10" vgap="15">
                <columnConstraints>
            <ColumnConstraints hgrow="SOMETIMES" minWidth="100.0" prefWidth="150.0"/>
            <ColumnConstraints hgrow="SOMETIMES" minWidth="200.0" prefWidth="300.0"/>
                </columnConstraints>

        <!-- Nom -->
        <Label text="Nom:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
        <TextField fx:id="nomField" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

        <!-- Email -->
        <Label text="Email:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
        <TextField fx:id="emailField" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

        <!-- Catégorie -->
        <Label text="Catégorie:" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
        <ComboBox fx:id="categorieComboBox" prefWidth="300.0" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

        <!-- Description -->
        <Label text="Description:" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
        <TextArea fx:id="descriptionArea" prefHeight="100.0" wrapText="true" 
                  GridPane.columnIndex="1" GridPane.rowIndex="3"/>
            </GridPane>

    <!-- Password Change Section -->
    <TitledPane text="Changer le mot de passe" collapsible="true" expanded="false">
        <VBox spacing="10">
            <PasswordField fx:id="currentPasswordField" promptText="Mot de passe actuel"/>
            <PasswordField fx:id="newPasswordField" promptText="Nouveau mot de passe"/>
            <PasswordField fx:id="confirmPasswordField" promptText="Confirmer le nouveau mot de passe"/>
        </VBox>
    </TitledPane>

    <!-- Buttons -->
    <HBox alignment="CENTER" spacing="20">
        <Button onAction="#handleSave" text="Enregistrer" 
                style="-fx-background-color: #94bee4; -fx-text-fill: white;"/>
        <Button onAction="#handleCancel" text="Annuler" 
                style="-fx-background-color: #e4e4e4;"/>
    </HBox>

</VBox>