<?xml version="1.0" encoding="UTF-8"?>
<?import java.net.URL?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Text?>

<VBox spacing="15" styleClass="dialog-content" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1">
    <padding>
        <Insets top="20" right="25" bottom="20" left="25"/>
    </padding>

    <Text styleClass="dialog-header" text="Reserve Your Parking Spot"/>

    <!-- Start Date/Time Section -->
    <VBox spacing="5" styleClass="section-container">
        <Label text="Start Date &amp; Time" styleClass="section-header"/>
        <GridPane hgap="10" vgap="5">
            <DatePicker fx:id="startDatePicker" promptText="Select start date"
                        GridPane.columnIndex="0" GridPane.columnSpan="3"/>

            <Label text="Time:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
            <HBox spacing="10" alignment="CENTER_LEFT" GridPane.columnIndex="1" GridPane.rowIndex="1">
                <Spinner fx:id="startHourSpinner" prefWidth="80" styleClass="time-spinner">
                    <valueFactory>
                        <SpinnerValueFactory.IntegerSpinnerValueFactory min="0" max="23"
                                                                        initialValue="12"
                                                                        amountToStepBy="1"/>
                    </valueFactory>
                </Spinner>
                <Label text=":" styleClass="time-separator"/>
                <Spinner fx:id="startMinuteSpinner" prefWidth="80" styleClass="time-spinner">
                    <valueFactory>
                        <SpinnerValueFactory.IntegerSpinnerValueFactory min="0" max="59"
                                                                        initialValue="0"
                                                                        amountToStepBy="5"/>
                    </valueFactory>
                </Spinner>
            </HBox>
        </GridPane>
    </VBox>

    <!-- End Date/Time Section -->
    <VBox spacing="5" styleClass="section-container">
        <Label text="End Date &amp; Time" styleClass="section-header"/>
        <GridPane hgap="10" vgap="5">
            <DatePicker fx:id="endDatePicker" promptText="Select end date"
                        GridPane.columnIndex="0" GridPane.columnSpan="3"/>

            <Label text="Time:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
            <HBox spacing="10" alignment="CENTER_LEFT" GridPane.columnIndex="1" GridPane.rowIndex="1">
                <Spinner fx:id="endHourSpinner" prefWidth="80" styleClass="time-spinner">
                    <valueFactory>
                        <SpinnerValueFactory.IntegerSpinnerValueFactory min="0" max="23"
                                                                        initialValue="12"
                                                                        amountToStepBy="1"/>
                    </valueFactory>
                </Spinner>
                <Label text=":" styleClass="time-separator"/>
                <Spinner fx:id="endMinuteSpinner" prefWidth="80" styleClass="time-spinner">
                    <valueFactory>
                        <SpinnerValueFactory.IntegerSpinnerValueFactory min="0" max="59"
                                                                        initialValue="0"
                                                                        amountToStepBy="5"/>
                    </valueFactory>
                </Spinner>
            </HBox>
        </GridPane>
    </VBox>

    <!-- Vehicle Information -->
    <VBox spacing="5" styleClass="section-container">
        <Label text="Vehicle Information" styleClass="section-header"/>

        <GridPane hgap="10" vgap="10">
            <columnConstraints>
                <ColumnConstraints hgrow="SOMETIMES" minWidth="100"/>
                <ColumnConstraints hgrow="SOMETIMES"/>
            </columnConstraints>

            <Label text="Vehicle Type:" styleClass="field-label"
                   GridPane.columnIndex="0" GridPane.rowIndex="0"/>
            <ComboBox fx:id="vehicleTypeCombo" promptText="Select vehicle type" maxWidth="Infinity"
                      GridPane.columnIndex="1" GridPane.rowIndex="0"/>
        </GridPane>
    </VBox>

    <!-- Car Wash Service -->
    <VBox spacing="5" styleClass="section-container">
        <Label text="Car Wash Service" styleClass="section-header"/>

        <VBox spacing="10">
            <CheckBox fx:id="carWashCheckBox" text="Add Car Wash Service" styleClass="car-wash-checkbox"/>

            <GridPane hgap="10" vgap="5">
                <columnConstraints>
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="100"/>
                    <ColumnConstraints hgrow="SOMETIMES"/>
                </columnConstraints>

                <Label text="Wash Type:" styleClass="field-label"
                       GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                <ComboBox fx:id="carWashTypeCombo" promptText="Select wash type" maxWidth="Infinity"
                          GridPane.columnIndex="1" GridPane.rowIndex="0"/>
            </GridPane>

            <Text styleClass="info-text" text="Car wash services are performed while your vehicle is parked. You will be notified when the service is complete."/>
        </VBox>
    </VBox>

    <!-- Additional Notes -->
    <VBox spacing="5" styleClass="section-container">
        <Label text="Additional Notes" styleClass="section-header"/>
        <TextArea fx:id="notesArea" promptText="Enter any special requirements or notes"
                  wrapText="true" prefRowCount="3" maxWidth="Infinity"/>
    </VBox>

    <!-- Reservation Summary -->
    <VBox spacing="5" styleClass="summary-container">
        <Label text="Reservation Summary" styleClass="section-header"/>
        <GridPane hgap="10" vgap="8">
            <columnConstraints>
                <ColumnConstraints hgrow="SOMETIMES" minWidth="150"/>
                <ColumnConstraints hgrow="SOMETIMES"/>
            </columnConstraints>

            <Label text="Duration:" styleClass="summary-label"
                   GridPane.columnIndex="0" GridPane.rowIndex="0"/>
            <Label fx:id="durationLabel" text="--" styleClass="summary-value"
                   GridPane.columnIndex="1" GridPane.rowIndex="0"/>

            <Label text="Parking Fee:" styleClass="summary-label"
                   GridPane.columnIndex="0" GridPane.rowIndex="1"/>
            <Label fx:id="parkingPriceLabel" text="--" styleClass="summary-value"
                   GridPane.columnIndex="1" GridPane.rowIndex="1"/>

            <Label text="Car Wash Fee:" styleClass="summary-label"
                   GridPane.columnIndex="0" GridPane.rowIndex="2"/>
            <Label fx:id="carWashPriceLabel" text="--" styleClass="summary-value"
                   GridPane.columnIndex="1" GridPane.rowIndex="2"/>

            <Separator GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="3"/>

            <Label text="Total Price:" styleClass="summary-label total-label"
                   GridPane.columnIndex="0" GridPane.rowIndex="4"/>
            <Label fx:id="totalPriceLabel" text="--" styleClass="summary-value total-value"
                   GridPane.columnIndex="1" GridPane.rowIndex="4"/>
        </GridPane>
    </VBox>

    <!-- Error Message -->
    <Label fx:id="errorLabel" styleClass="error-label" managed="false" visible="false"
           textFill="red" wrapText="true" maxWidth="Infinity"/>
    <stylesheets>
        <URL value="@/css/style.css" />
    </stylesheets>
</VBox>